<div class="card" >
  <p-table #dt [value]="projects" [paginator]="true" [rows]="10" [showCurrentPageReport]="true"
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"  [filterDelay]="0" [globalFilterFields]="['name','type','project_start','status']">
    <ng-template pTemplate="caption" >
       <div class="p-d-flex">
         <span class="p-input-icon-left" style="width: 100%;">
                  <i class="pi pi-search"></i>
                  <input pInputText type="text" (input)="applyFilterGlobal($event, 'contains')" placeholder="Search..." style="width: 40%;border-radius: 10px"/>
        </span>
      </div>
    </ng-template>
    <ng-template pTemplate="header" >
        <tr>
          <th pSortableColumn="pro_name">ชื่อโครงการ <p-sortIcon field="pro_name"></p-sortIcon></th>
          <th pSortableColumn="pro_type_id">ประเภท <p-sortIcon field="type"></p-sortIcon></th>
          <th pSortableColumn="start_date">วันที่เริ้มต้น<p-sortIcon field="start_date"></p-sortIcon></th>
          <th pSortableColumn="end_date">วันที่สิ้นสุด<p-sortIcon field="end_date"></p-sortIcon></th>
          <th></th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-project>
      <!--  *ngFor="let project of projects | filter:searchText"  -->
        <tr>
          <td>{{project.pro_name}}</td>
          <td style="padding-left:30px;">
            <span *ngIf="project.pro_type_id === 1">ไม่ต่อเนื่อง</span>
            <span *ngIf="project.pro_type_id === 2">ต่อเนื่อง</span>
          </td>
          <td>{{project.start_date | date: 'd MMM, y'}}</td>
          <td>{{project.end_date | date: 'd MMM, y'}}</td>
            <td id="btn-box">
              <p-splitButton  icon="pi pi-list" [model]="items" styleClass="p-button-warning" (click)="getProjectid(project.id)">

              </p-splitButton>
            </td>
        </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="1">No projects found.</td>
      </tr>
    </ng-template>
  </p-table>
</div>
